{"ast":null,"code":"var _jsxFileName = \"/Users/josephluna/Desktop/frontend/friend-finder/src/components/UserHomePage.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport Button from 'react-bootstrap/Button';\nimport Tabs from 'react-bootstrap/Tabs';\nimport Tab from 'react-bootstrap/Tab';\nimport MemberCard from '../components/MemberCard';\nimport Select from \"react-dropdown-select\";\nimport Loader from './Loader';\nimport { fetchInterests, fetchUserInterests, addUserInterest, deleteUserInterest, fetchUser } from '../actions';\nimport '../styles/UserHomePage.css';\n\nclass UserHomePage extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      key: 'My Profile',\n      selectedValues: [],\n      parsedUserInterests: [],\n      user: {},\n      interests: [],\n      userInterests: [],\n      friends: []\n    };\n    this.instance = \"userhomepage\";\n\n    this.fetchUserInterestsHelper = (cb, id) => {\n      cb(this.state.user.id, id);\n      setTimeout(() => this.props.fetchUser(this.state.user.id), 2000);\n      setTimeout(() => {\n        this.setState({\n          userInterests: this.props.user.interests\n        });\n        console.log(this.props.user.interests);\n      }, 3000);\n      setTimeout(() => this.setState({\n        parsedUserInterests: this.parseInterestsToString()\n      }), 3000);\n    };\n\n    this.parseInterestsToString = () => {\n      // this compares the interests pulled in from the db to the users intersts and returns a string rather than a number.\n      const localarray = [];\n\n      for (let i = 0; i < this.state.userInterests.length; i++) {\n        for (let j = 0; j < this.state.interests.length; j++) {\n          if (this.state.userInterests[i] === this.state.interests[j].name) {\n            localarray.push(this.state.interests[j]);\n          }\n        }\n      }\n\n      return localarray;\n    };\n\n    this.addSelectedInterests = () => {\n      if (this.state.selectedValues.length === 0) {\n        alert(\"No interest to add, please select one.\");\n      } else {\n        const interestID = this.state.interests.find(interest => {\n          return interest.name === this.state.selectedValues[0].name;\n        });\n        this.onChange([]);\n        this.fetchUserInterestsHelper(this.props.addUserInterest, interestID.id);\n      }\n    };\n\n    this.deleteClickHandler = id => {\n      this.fetchUserInterestsHelper(this.props.deleteUserInterest, id);\n    };\n\n    this.onChange = values => {\n      this.setState({\n        selectedValues: values\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.props.fetchInterests();\n    this.setState({\n      user: this.props.user,\n      interests: this.props.interests,\n      userInterests: this.props.user.interests,\n      friends: this.props.friends\n    }); //    setTimeout(()=>{\n    //         this.setState({\n    //             parsedUserInterests: this.parseInterestsToString()\n    //         })\n    //    },6000)\n    //    setTimeout(()=>{console.log(this.state.user, this.state.userInterests)},6000)\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      className: \"user-info-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"user-header-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"\".concat(this.state.user.profileimage),\n      alt: \"user\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Hello \", this.state.user.firstName + \" \" + this.state.user.lastName, \", lets make \", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Friends\"), \" !\"))), React.createElement(\"div\", {\n      className: \"tab-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(Tabs, {\n      activeKey: this.state.key,\n      onSelect: key => this.setState({\n        key\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(Tab, {\n      eventKey: \"My Profile\",\n      title: \"My Profile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"tab-content-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"label-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"Name: \"), \" \", this.props.user.firstName + \" \" + this.props.user.lastName), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"label-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"Your catch phrase: \"), \" \", this.props.user.catchPhrase), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"label-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"Age: \"), \" \", this.props.user.age), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"label-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"Gender: \"), \" \", this.props.user.gender), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"label-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"Email: \"), \" \", this.props.user.emailAddress), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"label-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"Phone: \"), \" \", this.props.user.phone), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"label-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \"Address: \"), \" \", this.props.user.address), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"label-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"City: \"), \" \", this.props.user.city), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"label-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"State: \"), \" \", this.props.user.state), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"label-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, \"Zip: \"), \" \", this.props.user.zip))), React.createElement(Tab, {\n      eventKey: \"Interests\",\n      title: \"Interests\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"tab-content-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, this.props.isFetchingUserInterests ? React.createElement(Loader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }) : React.createElement(React.Fragment, null, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"Here are your interests:\"), React.createElement(Select, {\n      className: \"dropdown-select\",\n      multi: true,\n      placeholder: \"Select an Interest...\",\n      loading: false,\n      dropdownHeight: \"300px\",\n      labelField: \"name\",\n      valueField: \"id\",\n      options: this.state.interests,\n      onChange: value => {\n        this.onChange(value);\n      },\n      values: [...this.state.selectedValues],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }), React.createElement(Button, {\n      className: \"interest-buttons\",\n      onClick: () => {\n        this.addSelectedInterests();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \"Add Interest\"), React.createElement(Button, {\n      className: \"interest-buttons\",\n      variant: \"secondary\",\n      onClick: () => this.onChange([]),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"Clear Selection\"), this.state.UserHomePage.map(interest => {\n      return React.createElement(\"div\", {\n        className: \"interest-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, interest.name), React.createElement(\"button\", {\n        className: \"delete-interest-button\",\n        onClick: () => {\n          this.deleteClickHandler(interest.id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, \"X\"));\n    })))), React.createElement(Tab, {\n      eventKey: \"Friends\",\n      title: \"Friends\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"tab-content-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, \"My Friends:\"), React.createElement(\"div\", {\n      className: \"members-list-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, this.state.friends.map(friend => {\n      return React.createElement(MemberCard, {\n        member: friend,\n        cardInstance: this.instance,\n        key: friend.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      });\n    })))), React.createElement(Tab, {\n      eventKey: \"Messages\",\n      title: \"Messages\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"tab-content-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, \"Here is some info in Messages\")))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.user,\n    friends: state.friends,\n    interests: state.interests,\n    userInterests: state.userInterests,\n    isFetchingUserInterests: state.isFetchingUserInterests\n  };\n};\n\nexport default connect(mapStateToProps, {\n  fetchInterests,\n  fetchUserInterests,\n  addUserInterest,\n  deleteUserInterest,\n  fetchUser\n})(UserHomePage);","map":{"version":3,"sources":["/Users/josephluna/Desktop/frontend/friend-finder/src/components/UserHomePage.js"],"names":["React","connect","Button","Tabs","Tab","MemberCard","Select","Loader","fetchInterests","fetchUserInterests","addUserInterest","deleteUserInterest","fetchUser","UserHomePage","Component","state","key","selectedValues","parsedUserInterests","user","interests","userInterests","friends","instance","fetchUserInterestsHelper","cb","id","setTimeout","props","setState","console","log","parseInterestsToString","localarray","i","length","j","name","push","addSelectedInterests","alert","interestID","find","interest","onChange","deleteClickHandler","values","componentDidMount","render","profileimage","firstName","lastName","catchPhrase","age","gender","emailAddress","phone","address","city","zip","isFetchingUserInterests","value","map","friend","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport Button from 'react-bootstrap/Button';\nimport Tabs from 'react-bootstrap/Tabs';\nimport Tab from 'react-bootstrap/Tab';\nimport MemberCard from '../components/MemberCard';\nimport Select from \"react-dropdown-select\";\nimport Loader from './Loader';\nimport { fetchInterests, fetchUserInterests, addUserInterest, deleteUserInterest, fetchUser } from '../actions';\n\nimport '../styles/UserHomePage.css';\n\nclass UserHomePage extends React.Component {\n    state = {\n        key: 'My Profile',\n        selectedValues: [],\n        parsedUserInterests: [],\n        user: {},\n        interests: [],\n        userInterests: [],\n        friends:[]\n    }\n\n    instance = \"userhomepage\";\n   \n\n   componentDidMount(){\n       this.props.fetchInterests()\n\n       this.setState({\n            user: this.props.user,\n            interests: this.props.interests,\n            userInterests: this.props.user.interests,\n            friends: this.props.friends\n       })\n       \n    //    setTimeout(()=>{\n    //         this.setState({\n    //             parsedUserInterests: this.parseInterestsToString()\n    //         })\n    //    },6000)\n    //    setTimeout(()=>{console.log(this.state.user, this.state.userInterests)},6000)\n    }\n\n    fetchUserInterestsHelper = (cb, id)=>{\n        cb(this.state.user.id, id)\n\n        setTimeout(()=>\n        this.props.fetchUser(this.state.user.id),2000)\n\n        setTimeout(() =>  {\n        this.setState({userInterests: this.props.user.interests})\n        console.log(this.props.user.interests)},3000)\n       \n        setTimeout(()=> this.setState({\n            parsedUserInterests: this.parseInterestsToString()\n       }),3000) \n    }\n  \n    parseInterestsToString = () => { \n    // this compares the interests pulled in from the db to the users intersts and returns a string rather than a number.\n        const localarray = []\n        for (let i = 0; i < this.state.userInterests.length; i++) {\n            for (let j = 0; j < this.state.interests.length; j++) {\n                if (this.state.userInterests[i] === this.state.interests[j].name) {\n                         localarray.push(this.state.interests[j])\n                }\n            }\n        }\n        return localarray\n    }\n   \n    addSelectedInterests = () => {\n        if (this.state.selectedValues.length === 0) {\n            alert(\"No interest to add, please select one.\")\n        } else{ \n            const interestID = this.state.interests.find(interest => {\n                return interest.name === this.state.selectedValues[0].name\n        })\n        this.onChange([])\n        this.fetchUserInterestsHelper(this.props.addUserInterest, interestID.id)\n        }\n    }\n\n    deleteClickHandler = (id) => {\n        this.fetchUserInterestsHelper(this.props.deleteUserInterest, id)\n     }\n \n    onChange = (values) => {\n        this.setState({\n            selectedValues: values\n        })\n    }\n\n\n\n    render() {\n\n        return (\n            <>\n                <div className=\"user-info-wrapper\">\n                    <div className=\"user-header-wrapper\">\n                        <img src={`${this.state.user.profileimage}`} alt=\"user\" />\n                        <h1>Hello {this.state.user.firstName + \" \" + this.state.user.lastName}, lets make <span>Friends</span> !</h1>\n                    </div>\n                </div>\n\n                <div className=\"tab-wrapper\">\n                    <Tabs\n                        activeKey={this.state.key}\n                        onSelect={key => this.setState({ key })}\n                    >\n\n                        <Tab eventKey=\"My Profile\" title=\"My Profile\">\n                            <div className=\"tab-content-wrapper\">\n                                <p><span className=\"label-text\">Name: </span> {this.props.user.firstName + \" \" + this.props.user.lastName}</p>\n                                <hr />\n                                <p><span className=\"label-text\">Your catch phrase: </span> {this.props.user.catchPhrase}</p>\n                                <hr />\n                                <p><span className=\"label-text\">Age: </span> {this.props.user.age}</p>\n                                <hr />\n                                <p><span className=\"label-text\">Gender: </span> {this.props.user.gender}</p>\n                                <hr />\n                                <p><span className=\"label-text\">Email: </span> {this.props.user.emailAddress}</p>\n                                <hr />\n                                <p><span className=\"label-text\">Phone: </span> {this.props.user.phone}</p>\n                                <hr />\n                                <p><span className=\"label-text\">Address: </span> {this.props.user.address}</p>\n                                <hr />\n                                <p><span className=\"label-text\">City: </span> {this.props.user.city}</p>\n                                <hr />\n                                <p><span className=\"label-text\">State: </span> {this.props.user.state}</p>\n                                <hr />\n                                <p><span className=\"label-text\">Zip: </span> {this.props.user.zip}</p>\n                            </div>\n                        </Tab>\n\n                        <Tab eventKey=\"Interests\" title=\"Interests\">\n                            <div className=\"tab-content-wrapper\">\n                                {\n                                    this.props.isFetchingUserInterests ? <Loader /> :\n                                        <>\n                                            <h2>Here are your interests:</h2>\n\n                                            <Select\n                                                className=\"dropdown-select\"\n                                                multi\n                                                placeholder=\"Select an Interest...\"\n                                                loading={false}\n                                                dropdownHeight=\"300px\"\n                                                labelField=\"name\"\n                                                valueField=\"id\"\n                                                options={this.state.interests}\n                                                onChange={(value) => {\n                                                    this.onChange(value)\n                                                }}\n                                                values={[...this.state.selectedValues]}\n                                            />\n                                            <Button className=\"interest-buttons\" onClick={() => { this.addSelectedInterests() }}>Add Interest</Button> \n                                            <Button  className=\"interest-buttons\" variant=\"secondary\" onClick={() => this.onChange([])}>Clear Selection</Button>\n                                            {\n                                                this.state.UserHomePage.map(interest => {\n                                                return <div className=\"interest-content\">\n                                                        <h3>{interest.name}</h3>\n                                                        <button className=\"delete-interest-button\" onClick={()=>{this.deleteClickHandler(interest.id)}}>X</button> \n                                                    </div>\n                                                })\n                                            }\n                                        </>\n                                }\n                            </div>\n                        </Tab>\n\n                        <Tab eventKey=\"Friends\" title=\"Friends\">\n                            <div className=\"tab-content-wrapper\">\n                                <h2>My Friends:</h2>\n                                <div className=\"members-list-wrapper\">\n                                    {\n                                        this.state.friends.map(friend => {\n                                            return <MemberCard member={friend} cardInstance={this.instance} key={friend.id} />\n                                        })\n                                    }\n                                  \n                                </div>\n                            </div>\n                        </Tab>\n\n                        <Tab eventKey=\"Messages\" title=\"Messages\" >\n                            <div className=\"tab-content-wrapper\">\n                                Here is some info in Messages\n                </div>\n                        </Tab>\n\n                    </Tabs>\n                </div>\n            </>\n        )\n    }\n\n}\n\nconst mapStateToProps = state => {\n\n    return {\n        user: state.user,\n        friends: state.friends,\n        interests: state.interests,\n        userInterests: state.userInterests,\n        isFetchingUserInterests: state.isFetchingUserInterests\n    }\n}\n\nexport default connect(mapStateToProps, { fetchInterests, fetchUserInterests, addUserInterest, deleteUserInterest, fetchUser })(UserHomePage);\n"]},"metadata":{},"sourceType":"module"}